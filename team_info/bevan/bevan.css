:root{
    --nav-color: #CEBEBE;
    --text-color: #ECE2D0;
    --main-color: #6D2E46;
    --secondary-color: #A26769;
    --third-color: #D5B9B2;
}

/* Card image scales fluidly with its parent card */
.tcg-card__img {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
}

*{ /*The * means it applies to all elements*/
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: 'Kumbh Sans', sans-serif;
    }   

        /* Hero Sec CSS*/
    .main {
        background-color: #000; /* black for high contrast */
        overflow-x: hidden; /* prevent accidental horizontal scroll on small devices */
    }

    .main__container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: clamp(16px, 3vw, 40px);
        justify-self: center;
        align-items: start; /* top-align to avoid crooked baselines */
        min-height: 90vh;
        background-color: transparent; /* let black show through */
        z-index: 1;
        width: 100%;
        max-width: 1500px;
        margin-inline: auto;
        padding: clamp(12px, 2.5vw, 24px);
        perspective: 1000px; /* improve 3D feel on hover */
        position: relative;
    }

    /* Raichu sky background */
    .raichu-sky{
        position: fixed;
        inset: 0;
        z-index: 0; /* behind content */
        pointer-events: none;
        overflow: hidden;
        background: radial-gradient(ellipse at top, rgba(255,255,255,0.05), transparent 60%);
        /* create a local stacking context for pseudo-layers */
        isolation: isolate;
        /* tile sizes chosen to avoid fractional pixels and reduce seams */
        --raichu-tile-1: 128px;
        --raichu-tile-2: 96px;
    }

    /* Tiled Raichu pattern layers (behind sprites) */
    .raichu-sky::before,
    .raichu-sky::after{
        content: "";
        position: absolute;
        inset: 0;
        background-repeat: repeat;
        background-position: 0 0;
        opacity: 0.12; /* subtle pattern */
        will-change: background-position;
        pointer-events: none;
        z-index: 0; /* stay behind sprite imgs */
    }

    /* Use underscore filename here */
    .raichu-sky::before{
        background-image: url("../../images/alolan_raichu.png");
        background-size: var(--raichu-tile-1) var(--raichu-tile-1);
        background-position: 0 0;
        animation: raichu-tile-drift 22s linear infinite;
    }

    /* Use spaced filename here (acts as fallback or second layer if exists) */
    .raichu-sky::after{
        background-image: url("../../images/alolan raichu.png");
        background-size: var(--raichu-tile-2) var(--raichu-tile-2);
        /* offset the second layer to cover any transparent edges/gaps */
        background-position: calc(var(--raichu-tile-2) / 2) calc(var(--raichu-tile-2) / 2);
        opacity: 0.09; /* even softer */
        animation: raichu-tile-drift-2 16s linear infinite;
    }

    @keyframes raichu-tile-drift{
        0%   { background-position: 0 0; }
        100% { background-position: var(--raichu-tile-1) var(--raichu-tile-1); }
    }
    @keyframes raichu-tile-drift-2{
        0%   { background-position: calc(var(--raichu-tile-2) / 2) calc(var(--raichu-tile-2) / 2); }
        100% { background-position: calc(var(--raichu-tile-2) * 1.5) calc(var(--raichu-tile-2) * 1.5); }
    }

    /* removed flying Raichu sprites; background now uses only tiled layers */

    /* ensure page content appears above background */
    .main, .main__container, .main__content { position: relative; z-index: 1; }

    /* smaller raichu sizes on mobile to avoid clutter */
    @media screen and (max-width: 768px){
        .raichu-sky .raichu{ width: 44px; height: 44px; }
    }
    @media screen and (max-width: 480px){
        .raichu-sky .raichu{ width: 36px; height: 36px; }
    }

    .main__row {
        display: flex;
        flex-direction: row;
        align-items: start;
        margin-bottom: 4rem;
    }

    .main__column {
        display: flex;
        flex-direction: column;
        justify-content: flex-start; /* top align */
        align-items: stretch;        /* allow natural left alignment */
        gap: 1.25em;
        color: var(--text-color);
        text-align: left;
    }

    /* Typography scales with viewport for better readability */
    .main__column h1 { font-size: clamp(1.75rem, 2.4vw + 1rem, 3rem); }
    .main__column h2 { font-size: clamp(1.25rem, 1.6vw + 0.75rem, 2rem); }
     
    .main__column p {
        text-align: left;
        background-color: rgba(213, 185, 178, 0.3); /*so translucent*/
        padding: 1rem 1.25rem;
        word-break: break-word;
        overflow-wrap: break-word;
        max-width: 70ch;
        line-height: 1.6;
        margin-inline: 0;
    }   

    .main__content .tcg-card{
        grid-area: img;
        align-self: center; /* Center the image vertically */
        position: relative;
        width: min(100%, 420px);
        margin: 20px auto 0; /* center horizontally within column */
        border-radius: 14px;
        padding: 10px; /* replicates card border */
        background: linear-gradient(135deg, var(--third-color), rgba(255,255,255,0.2));
        box-shadow: 0 12px 24px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.08);
        overflow: hidden;
        transform-style: preserve-3d;
        transition: transform 300ms ease, box-shadow 300ms ease;
        isolation: isolate; /* create local stacking context */
    }
    
    /* Tablet: collapse to single column */
    @media screen and (max-width: 1024px) {
        .main__container { grid-template-columns: 1fr; }
        .main__content, .main__column { justify-self: center; }
        .main__content .tcg-card { margin-left: 0; }
        .main__column { align-items: center; text-align: center; }
        .main__column p { text-align: center; margin-inline: auto; }
    }

    .tcg-card__img{
        position: relative;
        z-index: 0;
        border-radius: 10px;
        box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
    }

    /* Holographic rainbow sweep */
    .main__content .tcg-card::before{
        content: "";
        position: absolute;
        inset: -60% -60%;
        background: conic-gradient(
            from 0deg,
            rgba(255, 0, 102, 0.0) 0deg,
            rgba(255, 0, 102, 0.28) 45deg,
            rgba(255, 204, 0, 0.28) 90deg,
            rgba(0, 204, 255, 0.28) 135deg,
            rgba(102, 51, 255, 0.28) 180deg,
            rgba(255, 0, 102, 0.28) 225deg,
            rgba(255, 204, 0, 0.28) 270deg,
            rgba(0, 204, 255, 0.28) 315deg,
            rgba(255, 0, 102, 0.0) 360deg
        );
        mix-blend-mode: screen;
        filter: blur(20px) saturate(140%);
        transform: translate3d(-20%, -20%, 0) rotate(0deg);
        animation: holo-sweep 8s linear infinite;
        pointer-events: none;
        z-index: 1; /* above image */
    }

    @keyframes holo-sweep {
        0% { transform: translate3d(-20%, -20%, 0) rotate(0deg); }
        50% { transform: translate3d(0%, 0%, 0) rotate(180deg); }
        100% { transform: translate3d(20%, 20%, 0) rotate(360deg); }
    }

    /* Sparkle stars like rare card foil */
    .main__content .tcg-card::after{
        content: "";
        position: absolute;
        inset: 0;
        background-image:
            radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,0.75), rgba(255,255,255,0) 60%),
            radial-gradient(2px 2px at 80% 30%, rgba(255,255,255,0.7), rgba(255,255,255,0) 60%),
            radial-gradient(1.5px 1.5px at 40% 70%, rgba(255,255,255,0.8), rgba(255,255,255,0) 60%),
            radial-gradient(1.8px 1.8px at 60% 40%, rgba(255,255,255,0.6), rgba(255,255,255,0) 60%);
        background-repeat: no-repeat;
        opacity: 0.5;
        animation: sparkle 4s ease-in-out infinite;
        mix-blend-mode: screen;
        pointer-events: none;
        z-index: 2; /* above holo sweep */
    }

    @keyframes sparkle {
        0%, 100% { transform: translateY(0) translateX(0); opacity: 0.25; }
        50% { transform: translateY(-6px) translateX(6px); opacity: 0.5; }
    }

    /* Subtle 3D tilt on hover to feel like a real card */
    .main__content .tcg-card:hover{
        transform: rotateX(10deg) rotateY(-12deg) translateZ(18px);
        box-shadow: 0 22px 44px rgba(0,0,0,0.65);
    }

    /* Pok√©dex scan overlay */
    .tcg-card__overlay{
        position: absolute;
        inset: 10px; /* inside the padded card border */
        border-radius: 10px;
        overflow: hidden;
        z-index: 3; /* above sparkles */
        pointer-events: none; /* allow interactions to pass through */
        opacity: 0; /* hidden by default */
        transition: opacity 240ms ease;
    }

    /* show overlay on hover */
    .tcg-card:hover .tcg-card__overlay,
    .tcg-card:focus-within .tcg-card__overlay{
        opacity: 1;
    }

    /* animated scan line */
    .scan-line{
        position: absolute;
        left: 0; right: 0;
        height: 3px;
        background: linear-gradient(90deg, rgba(0,255,200,0), rgba(0,255,200,0.85), rgba(0,255,200,0));
        box-shadow: 0 0 12px rgba(0,255,200,0.8), 0 0 24px rgba(0,255,200,0.35);
        filter: saturate(140%);
        transform: translateY(-100%);
        animation: scan-sweep 1.8s ease-in-out infinite;
    }

    @keyframes scan-sweep {
        0%   { top: 0%;   opacity: 0.0; }
        10%  { opacity: 1.0; }
        50%  { top: 50%;  }
        90%  { opacity: 1.0; }
        100% { top: 100%; opacity: 0.0; }
    }

    /* HUD readouts */
    .scan-hud{
        position: absolute;
        inset: 0;
        display: grid;
        grid-template-columns: repeat(3, minmax(0,1fr));
        gap: 6px;
        padding: 8px;
        font-size: 1.05rem;
        font-weight: 600;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        color: rgba(200,255,240,0.9);
        text-shadow: 0 0 6px rgba(0,255,200,0.6);
        mix-blend-mode: screen;
        line-height: 1.25;
    }

    .scan-hud .hud-col{
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 2px;
        background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0));
        border: 1px solid rgba(0,255,200,0.2);
        border-radius: 6px;
        padding: 6px 8px;
        backdrop-filter: blur(2px);
    }

    .hud-label{
        opacity: 0.85;
        font-size: 0.9rem;
        color: rgba(160, 255, 235, 0.9);
    }

    .hud-value{
        font-weight: 800;
        font-size: 1.15rem;
        color: rgba(225, 255, 250, 0.95);
    }

    /* responsive adjustments for overlay */
    @media screen and (max-width: 768px){
        .scan-hud{ font-size: 0.95rem; gap: 4px; }
        .hud-value{ font-size: 1.05rem; }
    }
    @media screen and (max-width: 480px){
        .scan-hud{ grid-template-columns: 1fr; font-size: 1rem; }
        .hud-value{ font-size: 1.1rem; }
    }

    /* Mobile Responsive */
    @media screen and (max-width: 768px) {
        .main__container {
            display: grid;
            grid-template-columns: 1fr;
            align-items: center;
            justify-self: center;
            width: 100%;
            margin: 0 auto;
            min-height: 90vh;
            padding-bottom: 56px;
        }

        .main__content {
            text-align: center;
            margin-bottom: 4rem;
        }

        .main__content .tcg-card {
            margin-left: 0;
            width: min(100%, 460px);
        }

        .tcg-card__img {
            width: 100%;
            height: auto;
            max-height: 60vh;
        }

        .main__content h1 {
            font-size: clamp(1.75rem, 2.8vw + 1rem, 2.5rem);
            margin-top: 2rem;
        }

        .main__content h2 {
            font-size: clamp(1.25rem, 2.2vw + 0.75rem, 2rem);
        }

        .main__content p {
            font-size: clamp(1rem, 0.6vw + 0.95rem, 1.125rem);
            margin-top: 1rem;
        }
    }

    @media screen and (max-width: 480px) {
        .main__content h1 { font-size: 2rem; margin-top: 1.5rem; }
        .main__content h2 { font-size: 1.5rem; }
        .main__content p { font-size: 1.125rem; margin-top: 1rem; }

        .main__btn {
            padding: 12px 36px;
            margin: 2.5 rem 0;
        }

        .tcg-card__img { width: 100%; max-height: 55vh; }
    }

    /* Respect user motion preferences */
    @media (prefers-reduced-motion: reduce) {
        .raichu-sky::before,
        .raichu-sky::after,
        .scan-line,
        .main__content .tcg-card::before,
        .main__content .tcg-card::after {
            animation: none !important;
            transition: none !important;
        }
    }